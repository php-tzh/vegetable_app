{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/21974/Desktop/项目/app/蔬菜批发/蔬菜批发/pages/register/register.vue?70be","webpack:///C:/Users/21974/Desktop/项目/app/蔬菜批发/蔬菜批发/pages/register/register.vue?aa99","webpack:///C:/Users/21974/Desktop/项目/app/蔬菜批发/蔬菜批发/pages/register/register.vue?6806","webpack:///C:/Users/21974/Desktop/项目/app/蔬菜批发/蔬菜批发/pages/register/register.vue?0402","uni-app:///pages/register/register.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,qG;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;;;AAGvD;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsDtnB;AACA;AACA,8BADA,EACA,gBADA,EACA,sBADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,kBADA;AAEA,wBAFA;AAGA,yBAHA;AAIA,0BAJA;AAKA,kBALA;AAMA,iBANA;AAOA,iBAPA;AAQA,gBARA;AASA,qBATA;AAUA,0BAVA;;;AAaA,GAlBA;AAmBA,QAnBA,oBAmBA;AACA;AACA,GArBA;AAsBA;AACA,QADA,kBACA;AACA;AACA,gBADA;;AAGA,KALA,EAKA;AACA,YANA,sBAMA;AACA;AACA,KARA;AASA,aATA,uBASA;AACA;AACA,iCADA;;AAGA,KAbA;AAcA;AACA,cAfA,wBAeA;AACA;AACA;AACA;AACA;AACA;AACA,mDADA,EACA;AACA;AACA,2BADA,EAFA;;AAKA,sBALA;AAMA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BADA;AAEA,kCAFA;;AAIA,SAnBA;;AAqBA,KAzCA;AA0CA;AACA,WA3CA,qBA2CA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA;AACA;AACA,kEADA;AAEA,0BAFA;AAGA;AACA,mCADA;AAEA,yCAFA,EAHA;;AAOA;AACA;AACA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;AACA;AACA,yCADA;AAEA,gCAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA;AACA,iBARA,EAQA,IARA;AASA;AACA;AACA,aAjCA;;AAmCA,SAtCA;;;AAyCA,KAzFA;AA0FA;AACA,YA3FA,sBA2FA;AACA;AACA;AACA,yBADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA;AACA,2BADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA,KA3GA;AA4GA,SA5GA,mBA4GA;AACA;AACA,KA9GA;;AAgHA;AACA,UAjHA,oBAiHA;AACA;AACA;AACA;AACA,+BADA;AAEA;AACA;AACA,sDADA,EACA;AACA,0BAFA;AAGA;AACA,wCADA;AAEA,4CAFA;AAGA,uCAHA;AAIA,uCAJA,EAHA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAlBA;;AAoBA,SAvBA;;AAyBA,KA7IA,EAtBA;;AAqKA;AACA,YADA,sBACA;AACA;AACA;AACA,KAJA,EArKA,E","file":"pages/register/register.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/register/register.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./register.vue?vue&type=template&id=891c2434&\"\nvar renderjs\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/register/register.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./register.vue?vue&type=template&id=891c2434&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./register.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\r\n\t\t<view>\r\n\t\t\t<view class=\"iconfont icon-guanbi d-flex a-center j-center font-lg\"  style=\"width:100rpx;height:120rpx;\"\r\n\t\t\t@click=\"back\">\r\n\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"text-center font-lg\" style=\"font-size:55rpx; padding-top: 130rpx;padding-bottom:70rpx ;\">用户注册</view>\n\t\t<view class=\"px-2\">\r\n\t\t\t<template v-if=\"status\">\r\n\t\t\t\t<!-- 账号密码登录 -->\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"mb-2 d-flex a-stretch\">\r\n\t\t\t\t\t<view class=\"border-bottom d-flex a-center j-center font px-2\">+86</view>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"phone\" placeholder=\"手机号\" class=\"border-bottom uni-input p-2 flex-1\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mb-2 d-flex a-stretch\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<input type=\"text\" v-model=\"username\" placeholder=\"用户名\" class=\"border-bottom uni-input p-2 flex-1\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mb-2 d-flex a-stretch\">\r\n\t\t\t\t\t<input type=\"text\" v-model=\"password\" placeholder=\"密码\" class=\"border-bottom uni-input p-2 flex-1\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mb-2 d-flex j-sb\">\r\n\t\t\t\t\t<input @focus='focus' type=\"text\" v-model=\"random\" placeholder=\"请输入图形验证码\" class=\"border-bottom uni-input p-2\" />\r\n\t\t\t\t\t<view @click=\"getImgCode\" class=\"text-white border-bottom d-flex a-center font text-muted j-center\" style=\"width:180rpx;\">\r\n\t\t\t\t\t\t<image :src=\"imgCode\" style='width:180rpx;height: 80rpx;' mode=\"\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mb-2 d-flex j-sb\">\r\n\t\t\t\t\t<input type=\"text\" v-model=\"code\" placeholder=\"请输入验证码\" class=\"border-bottom uni-input p-2\" />\r\n\t\t\t\t\t<view @click=\"getCode\" :class=\"codeTime>0?'main-bg-color-disabled' :'main-bg-color'\" class=\"text-white border-bottom d-flex a-center font text-muted j-center\" style=\"width:180rpx;\">\r\n\t\t\t\t\t\t{{codeTime>0?codeTime+'秒':'获取验证码'}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<!-- 手机号登录 -->\r\n\t\t\t\r\n\t\t\t<main-btn :disabled=\"disabled\" @submit=\"submit\">注册</main-btn>\r\n\t\t\t<view class=\"d-flex a-center j-center pt-2 pb-4\">\r\n\t\t\t\t<view  class=\"text-primary font-sm\" @click=\"openlogin\">{{'返回登录'}}</view>\r\n\t\t\t\t<text class=\"text-muted mx-2\">|</text>\r\n\t\t\t\t<view class=\"text-primary font-sm\">注册遇到问题</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"d-flex a-center j-center text-muted\">注册即代表同意<text class=\"text-primary\">《用户隐私策略》</text></view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport uniStatusBar from '@/components/uni-ui/uni-nav-bar/uni-nav-bar.vue'\r\n\timport mainBtn from '@/components/common/main-btn.vue'\r\n\timport otherLogin from '@/components/common/other-login.vue'\r\n\t\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tuniStatusBar,mainBtn,otherLogin\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tstatus:true,\r\n\t\t\t\tusername:\"tzh001\",\r\n\t\t\t\tpassword:\"TZH0810\",\r\n\t\t\t\tphone:\"17628197244\",\r\n\t\t\t\tcode:\"1234\",\r\n\t\t\t\tcodeTime:0,\r\n\t\t\t\timgCode:'',\r\n\t\t\t\trandom:'',\r\n\t\t\t\tcaptcha_key:'',\r\n\t\t\t\tverification_key:''\r\n\t\t\t\t\n\t\t\t}\n\t\t},\r\n\t\tonLoad(){\r\n\t\t\tthis.getImgCode()\r\n\t\t},\n\t\tmethods: {\n\t\t\tback(){\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta:1\r\n\t\t\t\t})\r\n\t\t\t},//初始化表单\r\n\t\t\tinitForm(){\r\n\t\t\t\tthis.username = this.password = this.phone = this.code = ''\r\n\t\t\t},\r\n\t\t\topenlogin(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/login/login'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//图像验证码\r\n\t\t\tgetImgCode(){\r\n\t\t\t\tif(this.phone==''){\r\n\t\t\t\t\tthis.$U.showToast('请输入手机号')\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tuni.request({\r\n\t\t\t\t    url: `${this.$C.webUrl}/captchas`, //仅为示例，并非真实接口地址。\r\n\t\t\t\t    data: {\r\n\t\t\t\t        phone:this.phone\r\n\t\t\t\t    },\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t    success: ({data}) => {\r\n\t\t\t\t\t\t// console.log(data)\r\n\t\t\t\t\t\tif(data.errors){\r\n\t\t\t\t\t\t\tthis.$U.showToast(data.errors.phone[0])\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.imgCode = data.captcha_image_content;\r\n\t\t\t\t\t\t//缓存验证码码key\r\n\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t    key: 'captcha_key',\r\n\t\t\t\t\t\t    data: data.captcha_key,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//获取短信验证码\r\n\t\t\tgetCode(){\r\n\t\t\t\tif(this.codeTime>0){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.validate())return;\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t    key: 'captcha_key',\r\n\t\t\t\t    success: (res)=>{\r\n\t\t\t\t\t   uni.request({\r\n\t\t\t\t\t       url: `${this.$C.webUrl}/verificationCodes`, \r\n\t\t\t\t\t\t   method:'POST',\r\n\t\t\t\t\t       data: {\r\n\t\t\t\t\t           captcha_key:res.data,\r\n\t\t\t\t\t\t\t   captcha_code:this.random\r\n\t\t\t\t\t       },\r\n\t\t\t\t\t       success: ({data}) => {\r\n\t\t\t\t\t           // console.log(res.data);\r\n\t\t\t\t\t\t\t   if(data.message){\r\n\t\t\t\t\t\t\t\t   this.$U.showToast(data.message)\r\n\t\t\t\t\t\t\t\t   return false;\r\n\t\t\t\t\t\t\t   }else{\r\n\t\t\t\t\t\t\t\t   // console.log(data)\r\n\t\t\t\t\t\t\t\t   //存储短信验证码key\r\n\t\t\t\t\t\t\t\t   uni.setStorage({\r\n\t\t\t\t\t\t\t\t       key: 'verification_key',\r\n\t\t\t\t\t\t\t\t       data: data.key,\r\n\t\t\t\t\t\t\t\t   });\r\n\t\t\t\t\t\t\t\t   //计时开始\r\n\t\t\t\t\t\t\t\t   this.codeTime = 60\r\n\t\t\t\t\t\t\t\t   var timer=''\r\n\t\t\t\t\t\t\t\t    timer = setInterval(()=>{\r\n\t\t\t\t\t\t\t\t   \t// clearInterval(timer)\r\n\t\t\t\t\t\t\t\t   \tif(this.codeTime>=1){\r\n\t\t\t\t\t\t\t\t   \t\tthis.codeTime--\r\n\t\t\t\t\t\t\t\t   \t}else{\r\n\t\t\t\t\t\t\t\t   \t\tthis.codeTime=0\r\n\t\t\t\t\t\t\t\t   \t\tclearInterval(timer)\r\n\t\t\t\t\t\t\t\t   \t}\r\n\t\t\t\t\t\t\t\t   },1000)\r\n\t\t\t\t\t\t\t   }\r\n\t\t\t\t\t           // this.text = 'request success';\r\n\t\t\t\t\t       }\r\n\t\t\t\t\t   }); \r\n\t\t\t\t    }\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//表单验证\r\n\t\t\tvalidate(){\r\n\t\t\t\tif(!(/^1[3456789]\\d{9}$/.test(this.phone))){ \r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'无效的手机号',\r\n\t\t\t\t\t\t'icon':'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn false; \r\n\t\t\t\t}\r\n\t\t\t\tif(this.random==''){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请输入图像验证码',\r\n\t\t\t\t\t\t'icon':'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t return true\r\n\t\t\t},\r\n\t\t\tfocus(){\r\n\t\t\t\tthis.getImgCode()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//提交\r\n\t\t\tsubmit(){\r\n\t\t\t\t// console.log('trst')\r\n\t\t\t\tif(!this.validate())return;\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t    key: 'verification_key',\r\n\t\t\t\t    success: (res)=>{\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t    url: `${this.$C.webUrl}/users`, //仅为示例，并非真实接口地址。\r\n\t\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\t    data: {\r\n\t\t\t\t\t\t       verification_key:res.data,\r\n\t\t\t\t\t\t\t   verification_code:this.code,\r\n\t\t\t\t\t\t\t   password:this.password,\r\n\t\t\t\t\t\t\t   username:this.username,\t\t   \r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t\t\t\tif(res.data.message){\r\n\t\t\t\t\t\t\t\t\tthis.$U.showToast('验证码错误请重新输入')\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t        this.$U.showToast('注册成功，请返回登录')\r\n\t\t\t\t\t\t\t\tuni.removeStorage({key: 'captcha_key'})\r\n\t\t\t\t\t\t\t\tuni.removeStorage({key: 'verification_key'})\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tdisabled(){\r\n\t\t\t\tif((this.username === '' || this.password === '') && (this.phone ==='' || this.code === ''))return true;\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\t\t\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}